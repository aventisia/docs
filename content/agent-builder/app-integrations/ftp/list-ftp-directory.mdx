import { Callout, Steps } from "nextra/components";

# List FTP Directory

The **List FTP Directory** node allows you to view and interact with the contents of a specified directory on a remote FTP server. It is useful for automating processes that involve monitoring, organizing, or managing file directories.

Scenarios where this is helpful include:

- Retrieving a list of new files uploaded to a server for processing.
- Monitoring specific FTP directories for organizational purposes.

{/* ![List FTP Directory](./list-ftp-directory.png) */}

## Configuration Options

| Field Name         | Description                                                  | Input Type | Required? | Default Value     |
| ------------------ | ------------------------------------------------------------ | ---------- | --------- | ----------------- |
| **FTP Connection** | The FTP connection object required to connect to the server. | Text       | Yes       | _(empty)_         |
| **Directory Name** | The name of the directory to list contents from.             | Text       | Yes       | _(empty)_         |
| **List Type**      | Select the type of items to list: files, folders, or both.   | Select     | No        | Files and Folders |

## Expected Output Format

The output of this node, **Files and Folders Result**, is a **list of directory items** and can include files, folders, or both, depending on the **List Type** selected. The format is typically an array containing the names of the files and/or folders.

## Step-by-Step Guide

<Steps>
### Step 1

Add the **List FTP Directory** node to your workflow.

### Step 2

In the **FTP Connection** field, enter the credentials required to access the FTP server.

### Step 3

Enter the directory name you wish to explore in the **Directory Name** field.

### Step 4

Choose the appropriate **List Type**:

- **Files and Folders**: to see both files and directories.
- **Files**: to see files only.
- **Folders**: to see folders only.

### Step 5

The list of items will be available in **Files and Folders Result** and can be used in subsequent nodes or processes.

</Steps>

<Callout type="info" title="Important Note">
  If no directories or files are listed, ensure the FTP Connection details and
  Directory Name are correct.
</Callout>

## Input/Output Examples

| List Type         | Directory Name | Output Value                            | Output Type     |
| ----------------- | -------------- | --------------------------------------- | --------------- |
| Files and Folders | /my-directory  | ['file1.txt', 'file2.txt', 'subfolder'] | List of strings |
| Files             | /docs          | ['doc1.pdf', 'doc2.docx']               | List of strings |
| Folders           | /pictures      | ['photos', '2021', 'backup']            | List of strings |

## Common Mistakes & Troubleshooting

| Problem                         | Solution                                                                                   |
| ------------------------------- | ------------------------------------------------------------------------------------------ |
| **Invalid FTP Connection**      | Ensure that the credentials entered are correct and the server is accessible.              |
| **Directory Name not found**    | Double-check the Directory Name for typos and ensure it exists on the FTP server.          |
| **Incorrect List Type results** | Verify that the correct List Type has been chosen to get the desired files/folders output. |

## Real-World Use Cases

- **Digital Asset Management**: Automatically list new digital assets added to FTP for categorization.
- **Automated File Processing**: Trigger processes when new files are added to specific directories.
- **Data Backup Monitoring**: Monitor backup folders to ensure all necessary files are present.
