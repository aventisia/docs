import { Callout, Steps } from "nextra/components";

# Run JavaScript

The **Run JavaScript** node lets you execute a snippet of JavaScript code within your workflow. This can be useful for performing custom calculations, data transformations, or logic processing that might not be directly available through the pre-defined nodes.

For example:

- Calculating custom formulas.
- Transforming or manipulating data structures.
- Making decisions or branching logic based on input values.

{/* ![Run JavaScript](./run-javascript.png) */}

## Configuration Options

| Field Name          | Description                       | Input Type | Required? | Default Value |
| ------------------- | --------------------------------- | ---------- | --------- | ------------- |
| **JavaScript Code** | The JavaScript code to execute.   | Text       | Yes       | (empty)       |
| **Script Output**   | Returns the output of the script. | --         | No        | ScriptOutput  |

## Expected Output Format

The output of this node is determined by the JavaScript code you provide. It can vary widely, including numbers, strings, arrays, or objects.

- The processed result from your JavaScript code is made available as **ScriptOutput** for use in subsequent nodes.

## Step-by-Step Guide

<Steps>
### Step 1

Add the **Run JavaScript** node to your flow.

### Step 2

In the **JavaScript Code** field, enter the script you want to execute. This code should be valid JavaScript, aligning with your intended logic or computation.

### Step 3

Once the node runs, the result of the JavaScript execution will be accessible through **ScriptOutput**.

</Steps>

<Callout type="info" title="Tip">
  Ensure your JavaScript code is correct and thoroughly tested, as errors in the
  code will prevent execution and halt the flow.
</Callout>

## Input/Output Examples

| JavaScript Code                     | Expected Script Output | Output Type |
| ----------------------------------- | ---------------------- | ----------- |
| `return 5 + 3;`                     | 8                      | Number      |
| `return inputString.toUpperCase();` | Uppercased input       | String      |
| `return {name: "Alice", age: 30};`  | Object with properties | Object      |
| `return [1, 2, 3].map(x => x * 2);` | [2, 4, 6]              | Array       |

## Common Mistakes & Troubleshooting

| Problem                              | Solution                                                                                               |
| ------------------------------------ | ------------------------------------------------------------------------------------------------------ |
| **Syntax Errors in JavaScript Code** | Double-check your code for any syntax mistakes. Use tools or editors that highlight JavaScript errors. |
| **Unexpected Output**                | Verify the logic of your JavaScript code. Ensure your code handles all expected input variations.      |
| **Script Execution Fails**           | If the code does not run, ensure all variables or functions used are defined and accessible.           |

## Real-World Use Cases

- **Data Formatting**: Format data fields dynamically based on conditions.
- **Custom Calculations**: Use complex mathematical formulas that aren't supported natively.
- **Logic Decisions**: Implement flexible decision logic, enabling flow branching based on real-time data.
- **String Manipulations**: Convert and format text data efficiently.
